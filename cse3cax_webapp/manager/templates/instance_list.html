{% for instance in subject_instances %}
<tr id="instance-{{ instance.instance_id }}" class="instance-row">
  <td>{{instance.subject}} - {{instance.month}}/{{instance.year}}</td>
  <td>{{instance.enrollments}}</td>
  <td>
    {% if instance.users.exists %}
      {{instance.users.all|join:", "}}
    {% else %}
      None assigned
    {% endif %}
  </td>
  <td>
    <button
      type="button"
      class="btn btn-primary btn-sm"
      hx-get="{% url 'edit_subject_instance' instance_id=instance.instance_id %}"
      hx-target="#dialog"
    >
      Edit Instance
    </button>
    <button
      type="button"
      class="btn btn-danger btn-sm"
      hx-get="{% url 'confirm_delete_instance' instance_id=instance.instance_id %}"
      hx-target="#dialog"
    >
      Delete Instance
    </button>
  </td>
</tr>
{% endfor %}