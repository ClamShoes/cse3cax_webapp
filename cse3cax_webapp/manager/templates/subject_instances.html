{% extends "base.html" %} {% block content %}
<div class="d-flex align-items-center mb-3">
  <div class="d-flex gap-2">
    <button
      type="button"
      hx-get="{% url 'add_subject_instance' %}"
      hx-target="#dialog"
      class="btn btn-primary"
    >
      New Subject Instance
    </button>
    <button
      type="button"
      hx-get="#"
      hx-target="#dialog"
      class="btn btn-primary"
    >
      Assign Lecturers to Instance
    </button>
  </div>
  <div class="ms-auto">
    <!-- Filter Dropdown -->
    <select
      id="subject-filter"
      name="subject"
      class="form-select"
      hx-get="{% url 'instance_list' %}"
      hx-target="#instance-list"
      hx-vals="{subject: this.value}"
    >
      <option value="">All Subjects</option>
      {% for subject in subjects %}
      <option value="{{ subject.subject_id }}">{{ subject.subject_id }}</option>
      {% endfor %}
    </select>
  </div>
</div>
<table class="table">
  <thead>
    <tr>
      <th>Subject Instance</th>
      <th>Enrollments</th>
      <th>Lecturers</th>
    </tr>
  </thead>
  <tbody
    id="instance-list"
    hx-get="{% url 'instance_list' %}"
    hx-trigger="load, instanceListChanged from:body"
  >
    <tr>
      <td>Loading...</td>
    </tr>
  </tbody>
</table>

{% endblock %}
