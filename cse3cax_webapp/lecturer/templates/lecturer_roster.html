{% extends "base.html" %} {% block content %}
<!-- Trigger the request on load, change, or when userListChanged event is triggered -->
<a
  hx-trigger="change, load"
  hx-get="{% url 'lecturer_instance_list' %}"
  hx-target="#lecturer_instance_list"
  hx-swap="outerHTML"
>
</a>
<div class="container-fluid my-4">
  <div class = "scrollable-container">
    <table class="table table-bordered text-center">
      <thead class="sticky-row">
        <tr>
          <th style="width: 100px"></th>
          {% for year in years %}
          <th colspan="12">{{ year }}</th>
          {% endfor %}
        </tr>
        <tr>
          <th style="width: 100px"></th>
          {% for year in years %} {% for month_name in months.values %}
          <th style="width: 100px">{{ month_name }}</th>
          {% endfor %} {% endfor %}
        </tr>
      </thead>
      <!-- Target for the dynamically loaded content -->
      <tbody id="lecturer_instance_list">
        <tr>
          <td>Loading...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<style>
  /* Make the button cover the whole cell */
  .btn-full {
    width: 100%;
    height: 100%;
    border: none;
    position: absolute;
    top: 0;
    left: 0;
  }

  /* Scrollable container for horizontal and vertical scrolling */
  .scrollable-container {
    overflow-x: auto;
    overflow-y: auto;
    max-height: 900px; /* Set a max-height to trigger vertical scrolling */
    position: relative;
  }

  /* Sticky Column */
  .sticky-col {
    position: sticky;
    left: 0;
    z-index: 8; /* Ensure it's above other table content */
  }

  /* Sticky Row */
  .sticky-row {
    position: sticky;
    top: -10px;
    z-index: 10; /* Ensure it's above other table content */
  }

  /* Add hover effect on the parent table cell */
  .table-success:hover {
    background-color: #d4eefa;
  }
</style>

{% endblock %}
