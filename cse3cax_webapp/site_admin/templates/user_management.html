{% extends "base.html" %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <button
    type="button"
    hx-get="{% url 'add_user' %}"
    hx-target="#dialog"
    class="btn btn-primary"
  >
    Add User
  </button>
  <div>
    <!-- Filter Dropdown -->
    <select
      id="role-filter"
      name="role"
      class="form-select"
      hx-get="{% url 'user_list' %}"
      hx-target="#user-list"
      hx-vals="{role: this.value}"
    >
      <option value="">All Roles</option>
      {% for role in roles %}
      <option value="{{ role.role_id }}">{{ role.role_id }}</option>
      {% endfor %}
    </select>
  </div>
</div>

<table class="table">
  <thead>
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody
    id="user-list"
    hx-get="{% url 'user_list' %}?role="
    hx-trigger="load, userListChanged"
  >
    <tr>
      <td>Loading...</td>
    </tr>
  </tbody>
</table>
{% endblock %}
